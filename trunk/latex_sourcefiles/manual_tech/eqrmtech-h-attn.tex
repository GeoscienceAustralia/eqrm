\chapter{Ground-Motion Prediction Equations}
\label{ch:atten}

\newcommand{\Rhyp}{R_{\mathrm{hyp}}}
\newcommand{\Repi}{R_{\mathrm{epi}}}
\newcommand{\Rrup}{R_{\mathrm{rup}}}
\newcommand{\Rjb}{R_{\mathrm{jb}}}

\section{Overview}

Ground-Motion Prediction Equations (GMPEs) play key role in the
evaluation of seismic hazard in the region of interest. In this
chapter, we mainly focus on how EQRM deals with GMPEs and
corresponding uncertainties. However, to help the interested user to
become more familiar with the state-of-art and issues on using GMPEs
in the framework of seismic hazard analysis, each section comes with
a set of useful references. The remainder of this chapter is
organised as follows. First, the background theory of GMPEs is
addressed in ~\sref{sec:background}. Then, an introduction on the
selected GMPEs is brought in ~\sref{sec:implemented}.
~\sref{sec:implementation} describes how the selected GMPEs are
implemented in EQRM. Finally, capturing of uncertainties in EQRM,
which is a major challenge in estimation of strong motions, forms
the last section of this chapter.


\section{Background theory} \label{sec:background} The
Ground-Motion Prediction Equations (GMPEs), also referred to as
attenuation models, are used to describe the attenuation of the
ground-motion parameter of interest with respect to parameters of
the earthquake source, propagation path and local site conditions,
collectively referred to as seismological parameters. These
equations are obtained from regression analysis on the recorded or
synthetic values of the parameter of interest. A GMPE can be
described by the general expression as:
\begin{equation}\label{eq:general}
\ln Y =f(x,\theta)+\varepsilon,
\end{equation}
where $Y$ is the median of the ground-motion parameter of interest,
$x$ is the vector of seismological parameters, $\theta$ is the
vector of the GMPEâ€™s regression coefficients, and $\varepsilon$ is
a random error term with a mean of zero and a standard deviation of
$\sigma_{\ln Y}$ . In this regard, for a given set of seismological
parameters, a GMPE describes the probability density function (PDF)
of the ground-motion parameter as a lognormal distribution with
median and standard deviation equal to $Y$, and  $\sigma_{\ln Y}$,
respectively ($f(Y|x)$). This is a basic requirement by seismic
hazard analysis (SHA) in order to calculate the probability of
exceeding desired ground-motion level for a given set of
seismological parameters.

In engineering practice, traditionally, the most desired
ground-motion parameters are Peak Ground Velocity (PGV), Peak Ground
Acceleration (PGA), and $5\%$ damped Pseudo Spectral Acceleration
(PSA or SA)of horizontal components. There are a number of ways to
define the response variable based on two horizontal components,
such as considering the perpendicular horizontal components to be
independent, and geometric mean of horizontal components. Although
using the geometric mean has the advantage that the standard
deviation for the ground-motion models is smaller than for other
measures (Beyer and Bommer 2006), this measurement nevertheless
depends on the orientations of the sensors installed in the field.
Recently, alternative definitions of ground motion that are
independent of the sensor orientation was introduced by Boore et al.
(2006). These parameters, so called as GMRotI50, and GMRotD50 are
based on a set of geometric means computed from the recorded
orthogonal horizontal motions after rotating them through a
non-redundant angle of 90.

The most widely used seismological parameters by GMPEs are
earthquake magnitude (source parameter), source-to-site distance
measure (path parameter), and description of local site condition
(site parameter).

The earthquake magnitude is used to measure the size of the
earthquake. There are different scales to define magnitude. The most
commonly magnitude scales that are used in the development of the
GMPEs throughout the world are moment magnitude, $M_W$ and surface
wave magnitude, $M_S$. However, many GMPEs use local magnitude
scale, $M_L$, for smaller magnitude earthquakes. The $M_W$ scale has
been used by most of the recent GMPEs. It is based on the moment of
the earthquake ($M_0$), which is a measure of the seismic energy
radiated by an earthquake:
\begin{equation}\label{eq:MW}
M_W=\frac{2}{3}\log {M_0}-10.7.
\end{equation}
The main advantages of $M_W$ scale are that it is not saturated at
the upper end and it can be determined from geological faulting
measurements or from seismic waves.

Source-to-site distance measure is used to characterise the
attenuation of the ground motion amplitude versus distance from the
earthquake source. Different measures of distance are used by
different GMPEs. These measures are illustrated in
\Fref{fig:attn-distances} and can be summarized as follows:

Point-source distance measures:
\begin{itemize}
\item Hypocentral distance ($R_{hypo}$): Distance from the hypocenter of an earthquake to the site of interest.
\item Epicentral distance ($R_{epi}$): Distance from the epicenter of an earthquake to the site of interest.
\end{itemize}

Finite-source distance measures:
\begin{itemize}
\item Fault distance ($R_{rup}$): Closest distance between rupture plane and site of interest.
\item Joyner-Boore distance ($R_{jb}$): Closest distance between surface projection of the rupture plane and site of the interest.
\item Seismogenic distance ($R_{seis}$): Closest distance between seismogenic part of the rupture plane and site of the interest.
\end{itemize}
\begin{figure}[htp]
 \centering \psfrag{Rjb}{$\Rjb$}
\psfrag{Rhyp}{$\Rhyp$} \psfrag{Rrup}{$\Rrup$} \psfrag{Repi}{$\Repi$}
\psfrag{site}{site} \psfrag{fault}{fault} \psfrag{d}{$h$}
\includegraphics[width=0.7\textwidth]{diags/fig-hattn-distance}
\caption{Diagram showing the distance measures used in various
  attenuation formulae.}
  \label{fig:attn-distances}
\end{figure}
In case of small earthquake that can be represented by a point
source, the point source measures can be considered as
source-to-site distance measure. However, the point source measures
are not suitable to describe the attenuation of ground motion away
from large earthquakes. In this case, the finite source measures are
preferred.

Local site conditions profoundly affect the ground motion record
characteristics. Several numerical and/or empirical techniques have
been proposed to estimate local site responses. Such studies show
distinct amplification levels in the sites of different geological
and geotechnical characteristics; therefore, it is an ordinary
practice to categorize sites into different general classes.
Different sites of the same class are supposed to have local site
responses with similar main characteristics. The most commonly used
site categorization schemes by GMPEs are based on geomatrix, surface
geology, and average shear wave velocity over 30m ($V_{S30}$).
Actually, many of the GMPEs follow exactly the same or similar
classification criteria as suggested by NEHRP (Table ~\ref{NEHRP}).
$V_{S30}$ has also been included directly in the functional form of
several attenuation models. It is worth mentioning that in spite of
$V_{S30}$ popularity as a site parameter, it has its own
shortcomings. Several studies have suggested using other site
parameters such as the average shear wave velocity over the depth
equal to a quarter-wavelength of the period of interest, and the
average shear wave velocity of 100-200m.
\begin{table}[!t]
\renewcommand{\arraystretch}{1.3}
\caption{Site categories in NEHRP provisions} \label{NEHRP}
\centering
\begin{tabular}{|c|c|c|}
\hline
Site Category & Description & $V_{S30}$\\
\hline
A & Hard rock & $>1500 m/s$\\
\hline
B & Firm to hard rock & $760-1500 m/s$\\
\hline
C & Dense soil, soft rock & $360-760 m/s$\\
\hline
D & Stiff soil & $180-360 m/s$\\
\hline
E & Soft clays & $<180 m/s$\\
\hline
\end{tabular}
\end{table}

\section{Implemented GMPEs in EQRM}\label{sec:implemented} In
recent years the number of GMPEs is considerably increased due to
development of strong motion networks and the large number of
available strong motion records. Douglas (2003) provides a review on
more than 120 GMPEs for the estimation of peak ground acceleration
and 80 GMPEs for the estimation of response spectra. Generally,
GMPEs can be grouped into two different principle tectonic regions:
shallow crustal earthquakes and subduction zone earthquakes. The
shallow crustal earthquakes can be further divided into earthquakes
in active tectonic regions (e.g. Japan, California, Iran), and
earthquakes in stable continental regions (e.g. Australia, Eastern
North America). The subduction zone earthquakes can be further
divided into intraslab events and earthquakes along the interface of
subducting plates (e.g. Japan, Chile, Indonesia). For details of the
main characteristics of each category see Campbell (2003). For each
tectonic region, a handful of GMPEs are available for use within
EQRM software. Their main characteristics are summarized in
Table~\ref{GMPEs}. All of these equations are widely used in
engineering and engineering seismology. They reflect a broad variety
of tastes in terms of their functional forms and databases.
\begin{landscape}
\begin{table}[!t]
\renewcommand{\arraystretch}{1.3}
\caption{Main characteristics of the implemented GMPEs}
\label{GMPEs} \centering
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline {\footnotesize Model} & {\footnotesize Magnitude} &
{\footnotesize Magnitude} & {\footnotesize Distance} &
{\footnotesize Distance} & {\footnotesize Site}
& {\footnotesize Horizontal Component} & {\footnotesize Period} & {\footnotesize Complexity}  \\
{\footnotesize Name} & {\footnotesize Type} & {\footnotesize Range}
& {\footnotesize Type} & {\footnotesize Range} & {\footnotesize
Condition}
& {\footnotesize Type} & {\footnotesize Range} &\\
\hline \multicolumn{9}{|c|}{Shallow crustal events in active
tectonic regions}\\
\hline {\footnotesize Sadigh et al. (1997)} & $M_W$ & 4-7.4 &
$R_{rup}$ &
0-100& $GMX$ & Geometric mean & 0-4 & 9\\
\hline {\footnotesize Zhao et al. (2006)} & $M_W$ & 4.9-8.3 &
$R_{rup}$ &
0-300& $V_{S30} Class$ & Geometric mean & 0-5 & 16\\
\hline {\footnotesize Abrahamson and Silva (2008)} & $M_W$ & 5.0-8.0
&
$R_{jb}$ & 0-200 & $V_{S30}$ & GMRotI50 & 0-10 & 17\\
\hline {\footnotesize Boore and Atkinson (2008)} & $M_W$ & 5.0-8.0 &
$R_{rup}$ & 0-200 & $V_{S30}$ & GMRotI50 & 0-10 & 14\\
\hline {\footnotesize Campbell and Bozorgnia (2008)} & $M_W$ &
4.0-8.5 &
$R_{rup}$ & 0-200 & $V_{S30}$ & GMRotI50 & 0-10 & 17\\
\hline {\footnotesize Chiou and Youngs (2008)} & $M_W$ & 4.0-8.5 &
$R_{rup}$ & 0-200 & $V_{S30}$ & GMRotI50 & 0-10 & 25\\
\hline {\footnotesize Akkar and Bommer (2010)} & $M_W$ & 5.0-7.6 &
$R_{jb}$
& 0-100& $V_{S30}$ Class & Geometric mean & 0-3 & 14\\
\hline \multicolumn{9}{|c|}{Shallow crustal events in stable
continental regions}\\
\hline {\footnotesize Gaull et al. (1990)} & $M_L$ & ?  &
$R_{hypo}$& 10-500& $V_{S30}$ Class & Random & 0-2 & ?\\
\hline {\footnotesize Atkinson and Boore (1997)} & $M_W$ & 4.0-7.25
&
$R_{hypo}$& 10-500& $V_{S30}$ Class & Random & 0-2 & 5\\
\hline {\footnotesize Toro et al. (1997)} & $M_W$ & 5.0-8.0 &
$R_{jb}$& 1-500& Hard Rock & Geometric mean & 0-2 & 9\\
\hline {\footnotesize Campbell (2003)} & $M_W$ & 5.0-8.2 &
$R_{rup}$& 1-1000& Hard Rock & Geometric mean & 0-4 & 13\\
\hline {\footnotesize Atkinson and Boore (2006)} & $M_W$ & 4.0-8.0 &
$R_{rup}$& 1-1000& $V_{S30}$ & Random & 0-5 & 14 \\
\hline {\footnotesize Liang et al. (2008)} & $M_L$ & 4.0-7.0 &
$R_{epi}$& 10-200& Hard Rock & Random & 0-30 & 6\\
\hline {\footnotesize Somerville (2009)} & $M_W$ &5-7.5  &
$R_{jb}$& 0-500& Hard Rock &  ?& 0-10 & 10\\

\hline \multicolumn{9}{|c|}{Subduction zone events}\\
\hline {\footnotesize Youngs et al. (1997)} & $M_W$ & 5.0-8.2 &
$R_{rup}$& 10-500& GMX & Geometric mean & 0-3 & 7\\
\hline {\footnotesize Atkinson and Boore (2003)} & $M_W$ & 5.0-8.3 &
$R_{rup}$& 10-500& $V_{S30}$ Class & Random & 0-3 & 9\\
\hline {\footnotesize Zhao et al. (2006)} & $M_W$ & 5.0-8.3 &
$R_{rup}$ &
30-300& $V_{S30} Class$ & Geometric mean & 0-5 & 16\\
\hline

\end{tabular}
\end{table}
\end{landscape}

Considering the general tectonic setting of the region of interest,
the user may either select GMPEs from those listed in
Table~\ref{GMPEs}, or implement his or her desirable model. It
should be also noted that GMPEs have to be selected based on their
magnitude and frequency validity ranges. In other words, GMPEs
should not be used outside the ranges of their underlying dataset
(Bommer et al., 2007). General guidelines on selection of GMPEs for
seismic hazard analysis are provided by Cotton et al. (2006) and
Bommer et al. (2010). In addition, if strong motion data is
available in the target region, it can be used to verify candidate
GMPEs. To compare ground motions or GMPEs between regions, the main
approaches are the direct comparison of median predictions from
GMPEs for different regions (Campbell and Bozorgnia, 2006; Stafford
et al., 2008), analysis of variance (Douglas, 2004a, b), and
evaluation of the consistency of data distributions with respect to
a GMPE using likelihood concepts (Scherbaum et al., 2004; Stafford
et al., 2008) or information-theory approach (Scherbaum et al.,
2009).

The complexity of the implemented GMPEs varies based on the database
size and developers preferences. In Table~\ref{GMPEs}, the
complexity of each GMPE is represented as the number of the
regression coefficients. In addition to magnitude scaling, distance
scaling and local site condition terms, some of the GMPEs have extra
terms to model other phenomena affecting the ground motion
amplitudes. Table ~\ref{terms} lists such terms for GMPEs developed
for active crustal regions. As it can be seen, among the selected
GMPEs, Abrahamson and Silve (2008), Campbell and Bozorgnia (2008),
and Chiou and Youngs (2008) models can be considered as the most
complex ones with many input parameters required. They notably
require extra input parameters to model: (1) observed higher
ground-motions on the hanging-wall of the fault-plane, (2) larger
ground-motions generated by buried rupture earthquakes, and (3)
basin effect which is believed to have significant impact on
amplification of ground motion especially at longer period range.
The mentioned GMPEs as well as Boore and Atkinson (2008) model
account for nonlinear site amplification that is due to nonlinear
soil response beyond a certain level of deformations. These models
are developed as part of the Next Generation of Attenuation of
Ground-Motions (NGA) project in 2008 for shallow crustal earthquakes
in California. In many regions, however, it is not possible to
determine all the necessary input parameters for such complicated
models. General guidelines on estimating unknown input parameters
when implementing NGA GMPEs in engineering practice are presented in
Kaklamanos et al. (2010). The details on how EQRM feeds each of the
implemented GMPEs are given in the next section.
%\begin{landscape}
\begin{table}[!t]
\renewcommand{\arraystretch}{1.3}
\caption{Functional forms of GMPEs for active tectonic regions}
\label{terms} \centering
\begin{tabular}{l l c c c c c c}
\hline
&\multicolumn{7}{|c|}{Ground Motion Prediction Equations}\\
\hline
 Term & {\footnotesize Sa97}& {\footnotesize Zh06
}&{\footnotesize AS08}&{\footnotesize BA08}&
{\footnotesize CB08}&{\footnotesize CY08}& {\footnotesize AB10}\\
\hline {\footnotesize Near-fault} & \textbullet & \textbullet&
\textbullet& \textbullet& \textbullet&
\textbullet&\textbullet\\

{\footnotesize Saturation} \\

\hline {\footnotesize Magnitude-dependent} & & & \textbullet&
\textbullet& \textbullet&
\textbullet& \textbullet\\
{\footnotesize Distance Decay} \\


\hline {\footnotesize Style of Faulting} & \textbullet& \textbullet&
\textbullet& \textbullet& \textbullet& \textbullet& \textbullet\\

\hline {\footnotesize Depth-to-Top } & & & \textbullet& &
\textbullet& \textbullet& \\

{\footnotesize of Rupture}\\

\hline {\footnotesize Hanging-Wall} & & & \textbullet& &
\textbullet& \textbullet& \\

\hline {\footnotesize Basin Effect} & & & \textbullet& &
\textbullet& \textbullet& \\

\hline {\footnotesize Nonlinear } & & & \textbullet& \textbullet&
\textbullet& \textbullet&\\
{\footnotesize Site Response}\\
\end{tabular}
\end{table}
%\end{landscape}
\section{Implementation}\label{sec:implementation} In the EQRM
application the attenuation calculations are conducted within the
main driving function \typefunc{do}{\_ana}{lysis} which computes the
attenuation for one site at a time for all events and all
fundamental (or building) periods. That is, for each site there
exists a large matrix of modelled $S_a(T_o,r_m,R)$ (this matrix is
\typevar{S}{}{A} or \typevar{SA}{ro}{ck} in the code) whose rows
correspond to the events (i.e. an $r_m$-$R$ pair) and whose columns
correspond to the $T_o$. That is

\begin{math}
%\label{fig:attn-sa-matrix}
 SA = \left[ \begin{array}{ccccc}
S_a(T_{o,1},r_{m,1},R_1) & S_a(T_{o,2},r_{m,1},R_1) &  \hdots & S_a(T_{o,N_T},r_{m,1},R_1) \\
S_a(T_{o,1},r_{m,2},R_2) & S_a(T_{o,2},r_{m,2},R_2) &  \hdots & S_a(T_{o,N_T},r_{m,2},R_2) \\
\vdots & \vdots &  \ddots & \vdots \\
S_a(T_{o,1},r_{m,N_s},R_{N_s}) & S_a(T_{o,2},r_{m,N_s},R_{N_s}) & \hdots & S_a(T_{o,N_T},r_{m,N_s},R_{N_s}) \\
\end{array} \right]
\end{math}

where $N_s$ refers to the number of events and $N_T$ refers to the
number of periods. Note that the $r_m$-$R$ pair comes from the event
catalogue and a calculation of distance, as described in this
section. The $T_o$ are determined by the user-defined vector
parameter \typepar{per}{io}{ds} in \typeself{set}{da}{ta}.
Computationally the above calculation of attenuation is conducted in
two parts as follows:
\begin{enumerate}
\item The preparation of the attenuation coefficients
(\typefunc{prep}{\_at}{tn}) conducted before entering a loop over
sites. This preparation involves interpolating the attenuation
coefficients to the fundamental periods defined by
\typepar{per}{io}{ds}. \item The computation of the $S_a(T_o,r_m,R)$
at each site (\typefunc{do}{\_atten}{uation}) conducted site-by-site
within a loop over sites.
\end{enumerate}


Each attenuation model returns an estimate of:
\begin{enumerate}
\item the mean of $log(S_a(T_o,r_m,R))$ (equivalent to the
logarithm of the median of $S_a(T_o,r_m,R)$) and hereafter denoted
by $\mu_{log(S_a)}(T_o,r_m,R)$ or $\mu_{log(S_a)}$ for brevity, and
\item the standard deviation of $log(S_a(T_o,r_m,R))$, hereafter
denoted by \newline $\sigma_{log(S_a)}(T_o,r_m,R)$ or
$\sigma_{log(S_a)}$ for brevity.
\end{enumerate}


The required input parameters by implemented GMPEs in EQRM, to model
source, path and site effects are listed in Table ~\ref{inputs}. The
abbreviations used in this Table are defined in Table ~\ref{def}. As
it can be seen GMPEs use different definitions for explanatory and
response variables. Regarding response parameter,i. e. ground-motion
parameter of interest, currently EQRM estimates $5 \%$ $S_a$ using
GMPEs listed in Table \ref{GMPEs}. The conversion equations between
different definitions of response variables are provided by Beyer
and Bommer (2006).  For each GMPE, EQRM should provide inputs
respecting the original definition used within each model. In EQRM,
the recurrence relationship and hence the generated earthquake
catalogue are based on moment magnitude scale. However, among the
implemented GMPES Gaul et al. (1990), and Liang et al. (2008) models
use $M_L$ scale. In this case, adjustment is done using the
correlation relationship between and as suggested by Johnston
(2001):
\begin{equation}
M_L =
\frac{0.473+\sqrt{0.473^2-4\times0.145(3.45-M_W)}}{2\times0.145};
\end{equation}
Equation 2 is developed for stable continental regions and is based
on earlier work published by the same author (Johnston, 1996). It is
important to note that uncertainties in the explanatory variables
are map to the response variable. In other words, in equation
~\ref{eq:general} if an explanatory parameter, $x$, has been
assigned using a correlation conversion with associated measure of
aleatory variability, $\sigma_x$, then this should be map into the
aleatory variability of the GMPEs, $\sigma_y$, by using the
expression:
\begin{equation}
\sigma_{Total} = \sqrt{\sigma_y^2+(\dfrac{\partial log(Y)}{\partial
x})^2 \sigma_x^2}
\end{equation}
\begin{landscape}
\begin{table}[!t]
\renewcommand{\arraystretch}{1.3}
\caption{Input parameters of the implemented GMPEs in EQRM}
\label{inputs} \centering
\begin{tabular}{c c c c c c c c c c c c c c c c c c}
\hline
&\multicolumn{17}{|c|}{Ground Motion Prediction Equations}\\
\hline
 {\footnotesize Parameter} & {\footnotesize Sa97}& {\footnotesize Zh06}&{\footnotesize AS08}
 &{\footnotesize BA08}&{\footnotesize CB08}&{\footnotesize CY08}&{\footnotesize AB10}&
 {\footnotesize Ga90}& {\footnotesize AB97} &{\footnotesize To97}&
 {\footnotesize Ca03}&{\footnotesize AB06}&{\footnotesize Li08}&{\footnotesize So09}
 &{\footnotesize Yo97}&{\footnotesize AB03}&{\footnotesize Zh06}\\
\hline {\footnotesize Source parameters}\\
$M_L$&&&&&&&&\textbullet&&&&&\textbullet&&&&\\
$M_W$&\textbullet&\textbullet&\textbullet&\textbullet&\textbullet&\textbullet&\textbullet
&&\textbullet&\textbullet&\textbullet&\textbullet&&\textbullet&\textbullet
&\textbullet&\textbullet\\
$h$&&&&&&& &&&&&&&&\textbullet
&\textbullet&\textbullet\\
$Z_{TOR}$&&&\textbullet&&\textbullet&\textbullet& &&&&&&&&
&&\\
$W$&&&\textbullet&&&& &&&&&&&&
&&\\
$\delta$&&&\textbullet&&\textbullet&\textbullet& &&&&&&&&
&&\\
$SOF
Flag$&\textbullet&\textbullet&\textbullet&\textbullet&\textbullet&\textbullet&\textbullet
&&&&&&&&
&&\\
\hline {\footnotesize Path parameters}\\
$R_{epi}$&&&&&&& &&&&&&\textbullet&&
&&\\
$R_{hypo}$&&&&&&& &\textbullet&\textbullet&&&&&&
&&\\
$R_{jb}$&&&\textbullet&\textbullet&\textbullet&\textbullet&\textbullet
&&&\textbullet&&&&\textbullet&
&&\\
$R_{rup}$&\textbullet&\textbullet&\textbullet&&\textbullet&\textbullet&
&&&&\textbullet&\textbullet&&&\textbullet
&\textbullet&\textbullet\\
$R_x$&&&\textbullet&&&\textbullet& &&&&&&&&
&&\\
$HW Flag$&&&\textbullet&&\textbullet&\textbullet& &&&&&&&&
&&\\
\hline {\footnotesize Site parameters}\\
$Site Flag$&\textbullet&\textbullet&&&&&\textbullet
&\textbullet&\textbullet&&&&&&\textbullet
&\textbullet&\textbullet\\
$V_{S30}$&&&\textbullet&\textbullet&\textbullet&\textbullet&
&&&&&\textbullet&&&
&&\\
$Z_{1.0}$&&&\textbullet&&&\textbullet& &&&&&&&&
&&\\
$Z_{2.5}$&&&&&\textbullet&& &&&&&&&&
&&\\
$PGA_{rock}$&&&\textbullet&\textbullet&\textbullet&\textbullet&
&&&&&\textbullet&&&
&&\\
\end{tabular}
\end{table}
\end{landscape}

\begin{table}[!t]
\renewcommand{\arraystretch}{1.3}
\caption{Definition of Input parameters} \label{def} \centering
\begin{tabular}{|c|c|}
\hline Parameter& Description\\
\hline $M_W$ & {\small Moment magnitude}\\

\hline $M_L$ & {\small Local magnitude}\\

\hline $h$ & {\small Focal depth (km)}\\

\hline $W$ & {\small Down-dip rupture width (km)}\\

\hline $\delta$ & {\small Fault dip (degree)}\\

\hline $SOF$ & {\small Style Of Faulting (function of rake angle,
$\lambda$
(degree))}\\

\hline $R_{epi}$ & {\small Distance from the epicenter (km)}\\

\hline $R_{hypo}$ & {\small Distance from the hypocenter (km)}\\

\hline $R_{jb}$ & {\small Closest distance to the surface projection
of the
rupture plane (km)}\\

\hline $R_{rup}$ & {\small Closest distance to the rupture plane (km)}\\

\hline $R_x$ & {\small Horizontal distance to top edge of rupture}\\
 &{\small measured
perpendicular to the strike (km)}\\

\hline $HW Flag$ & {\small Hanging-Wall}\\

\hline $Site Flag$ & {\small ?}\\

\hline $V_{S30}$ & {\small Average shear-wave velocity over the top 30 m (m/s)}\\

\hline $Z_{1.0}$ & {\small Depth to shear-wave velocity equal to 1.0
km/s
(km)}\\

\hline $Z_{2.5}$ & {\small Depth to shear-wave velocity equal to 2.5
km/s
(km)}\\

\hline $PGA_{rock}$ &{\small Peak Ground Acceleration on rock ($cm/s^2$)}\\
\hline

\end{tabular}
\end{table}

Traditionally in seismic hazard studies the most difficult
adjustments are conversions between different source-to-site
distance measures. Scherbaum et al. (2004) and later Kaklamanos et
al. (2010) proposed correlation relations among popular distance
metrics. It is important to note that, as indicated by Scherbaum et
al. (2005), large penalty can be paid in terms of increased sigma
values due to conversion of source-to-site distance measures.
However, in EQRM distance measures conversions are not necessary,
since virtual faults are generated through simulation process. This
enables EQRM to not only directly calculate the proper
source-to-site distance measure for each GMPE, but also to estimate
all the source geometry related parameters, i. e. $h$, $W$,
$\delta$, $R_x$. The only remaining parameters to be determined are
site parameters. The $V_{S30}$ parameter is the required INPUT
parameter that should be provided by the user. In the absence of
shear-wave velocity measurements in the target region, one may use
topographic gradient approach for estimation of $V_{S30}$ as
suggested by Allen and Wald (2009).  In addition fine scale
geological maps and recorded strong motions may also be used to
estimate $V_{S30}$. The Z1.0 and Z2.5 parameters are used by some of
the NGA GMPEs to model the basin effects. Currently these parameters
are not included in the INPUT file, and are estimated as follows:
Z1.0 is estimated from Vs30 following the correlation relation
suggested by Chiou and Youngs (2008):
\begin{equation}
ln(Z_{1.0}) = 28.5-0.4775ln(V_{S30}^8+38.7^8)
\end{equation}

Z2.5 is approximated from Z1.0 following the correlation relation
suggested by Campbell and Bozorgnia (2007):
\begin{equation}
ln(Z_{2.5}) = 0.519+3.595Z_{1.0}
\end{equation}
It should be noted that by using these relations, we assume that the
basin depths at target region and California are similar. However if
it would not be the case this may introduce bias in predictions at
longer periods, where the basin effects are most pronounced.

\section{accounting for uncertainties}\label{sec:uncertain}
Regarding GMPEs, seismic hazard studies incorporate two types of
uncertainty: aleatory variability and epistemic uncertainty. By
definition, aleatory variability is the natural random variation of
observed ground-motions with respect to explanatory variables that
cannot be reduced with increasing knowledge about the earthquake
process. It is worth to mention that the aleatory variability can
not be reduced with respect to a particular model, however in
practice it is desirable to reduce the aleatory variability. The
aleatory variability is represented by the standard deviation of the
PDF for the GMPEs. Epistemic uncertainty is the uncertainty raised
from our lack of knowledge about earthquake process. With increased
data and knowledge, ideally, the epistemic uncertainty can be
reduced to zero. The epistemic uncertainty is represented by means
of logic-tree. In logic-tree approach, several GMPEs would be
considered, and each equation is assigned a weighting factor that is
interpreted as the relative likelihood of that equation being
correct. It should be noted that selection of proper ground motion
models has stronger influence on the final results than assigning
weights to each model. The incorporation of aleatory variability and
epistemic uncertainty in EQRM are discussed in sections
~\ref{attn:uncertainty} and ~\ref{sec:attn-multi-attnmodels}
respectively.
\subsection{Incorporating aleatory variability}
\label{attn:uncertainty}

The inclusion of aleatory variability of GMPEs in the EQRM
 is facilitated by the flag
\typepar{var}{\_attn}{\_flag}. The aleatory variability is based on
estimations of $\sigma_{log(S_a)}$  and is incorporated within
\typefunc{do}{\_atten}{uation}. The following sections describe two
of the most commonly used techniques for incorporating GMPE aleatory
variability when using the EQRM. The flag to control the variability
method is \typepar{var}{\_attn}{\_method} and
\tref{tab:attn-varmethods} illustrates all of the aleatory
variability options that are available with the EQRM.
\begin{table}
\caption{Different techniques for incorporating attenuation
variability in the EQRM.} \vspace{0.8em} \label{tab:attn-varmethods}
\begin{centering}
\begin{tabular}{c|p{0.7\textwidth}}
\typeparcaption{var}{\_attn}{\_method} & Description \\
\hline 1 & PDF sampling or spawning  when \typeparcaption{src}{\_eps}{\_switch} is 1 0 $-1$ \\
2 & random sampling  \\
3 & $+2\sigma$ from median\\
4 & $+\sigma$ from median\\
5 & $-\sigma$ from median\\
6 & $-2\sigma$ from median\\
\hline
\end{tabular}
\end{centering}
\end{table}




\subsubsection{Random sampling \index{response spectral acceleration}}
\label{attn:uncert-randomchoice}

This technique involves selecting a single `random' response
spectral acceleration\index{response spectral acceleration} ($S_a$)
from its PDF by:
\begin{enumerate}
\item Selecting a random number $n_{rand}$ from the standard
normal distribution $ N \sim (0,1)$. \item Computing the $S_a$ as
follows
\begin{equation}
\label{attn:attn-var} log(A_{S_a}(T_o,r_m,R)) = \mu_{log(S_a)} +
n_{rand} \sigma_{log(S_a)},
\end{equation}
where $\sigma_{log(S_a)}$ is usually assumed to be $\sigma_a$.
\end{enumerate}

\begin{figure}
\includegraphics[width=1\textwidth]{diags/fig-hattn-random}
\caption{Selection of three different random samples from a PDF.}
\label{fig:hattn-randomsamp}
\end{figure}
Random sampling from a PDF is illustrated in
\fref{fig:hattn-randomsamp}. It is important to note the following
about random selection:
\begin{enumerate}
\item Two sites that are close to one another may give
dramatically different estimates of ground motion for the same
event. Earthquake hazard and risk values that are computed using
random sampling exhibit a low level of spatial correlation. \item
The number $n_{rand}$ can theoretically take on any value between
$\pm \infty$. Therefore it is possible that estimates of $S_a$ using
\eref{attn:attn-var} can be unrealistically large. \cite{dr_Dhu02b}
overcame this problem by re-scaling the excessively large $S_a$ to
some acceptable level. The re-scaling was performed by the function
\typefunc{pga}{\_cut}{off} which computes a re-scaling parameter
$R_{scale}$ as follows
\begin{equation}
R_{scale} =
\frac{\textrm{\typepar{pga}{\_cut}{off}}}{log(A_{S_a}(0,r_m,R))}.
\end{equation}
The re-scaling parameter is then applied to the entire $S_a$ as
follows
\begin{equation}
log(A_{S_a,new}(T_o,r_m,R)) = R_{scale} \times
log(A_{S_a,old}(T_o,r_m,R)).
\end{equation}
\item There is no effort to account for the likelihood (or
probability) of selecting a particular $n_{rand}$ i.e. a particular
value of the $S_a$ is not weighted against its likelihood. It can be
argued that if enough earthquakes are simulated a range of different
$n_{rand}$ will be taken (high and low) and the overall hazard
and/or risk values will converge to the true ones.
\end{enumerate}


\subsubsection{Spawning\index{response spectral acceleration}
} \label{attn:uncert-pdfchoice}


An alternative technique for incorporating variability relies on
sampling the PDF of the $S_a$. This technique is used by Aon Re
(Mendez, \textit{pers. comm.}, 2003) and is often referred to as
spawning. An integral component of sampling the PDF is the spawning
of events with the event catalogue (see \sref{source:spawning}).
Essentially the approach involves taking a user defined number of
copies of each event. Every event copy is then available for
calculation of hazard (or risk) using a different sample from the
attenuation model PDF.
\begin{enumerate}
\item Firstly the user must define a lower magnitude bound
$m_{bnd}$, a number of samples $n_{smples}$ and a PDF range
$n_\sigma$ (see \sref{source:spawning} for a complete definition).
Recall that \typefunc{fuse}{\_4}{hzd} redefines the event activity
$r_\nu$ using a weight $w_e$, derived by truncating and
re-normalising a standard normal distribution to $\pm n_\sigma$.
\item The $S_a$ is computed as follows
\begin{equation}
\label{attn:uncertainty-pdfsample}
\begin{array}{ll}
log(A_{S_a,i}(T_o,r_m,R)) = \mu_{log(S_a)} - \epsilon_i
\sigma_{log(S_a)}\ & \textrm{for $i=1 \ldots
n_{smples}$} \\
\end{array}
\end{equation}
where
\begin{equation}
\label{attn:uncertainty-def-epsilon}
\begin{array}{ll}
\epsilon_i = -n_\sigma + \frac{\Delta}{2} + (i-1)\Delta &
\textrm{for $i=1 \ldots n_{smples}$} \\
\end{array}
\end{equation}
and
\begin{equation}
\Delta = \frac{2n_\sigma}{n_{smples}}.
\end{equation}
Note that
\ereftwo{attn:uncertainty-pdfsample}{attn:uncertainty-def-epsilon}
ensure that the $S_a$ associated with each of the event copies are
evenly spread across the domain of the attenuation PDF
(\fref{fig:hattn-spawnsamp}). Recall from \sref{source:spawning}
that the event activities $r_\nu$ giving rise to each of the $S_a$
described in \eref{attn:uncertainty-pdfsample} are modified by
\typefunc{fuse}{\_4}{hzd} as follows:
\begin{equation}
r_{\nu,i} = r_{\nu,original} \times w_{e,i}
\end{equation}
\end{enumerate}

For example, assume that there is an event with $r_\nu=0.05$ that
gives rise to \mbox{$\mu_{log(S_a)}=[0.3g, 0.5g, 0.2g]$} at the
periods \mbox{$T_o = [0s,0.3s,1s]$} respectively. Also assume that
the estimates of $\mu_{log(S_a)}$ have the following standard
deviations \mbox{$\sigma_{log(S_a)}=\sigma_a = [0.03,0.04,0.01]$}.
Defining $m_{bnd}=0$, $n_{smples}=5$ and $n_\sigma=2.5$ gives
\begin{equation}
\Delta = \frac{2 \times 2.5}{5} = 1,
\end{equation}

and

\begin{center} $ \begin{array}{ccccc}
i & w_{e,i} & \epsilon_i & r_\nu & log(A_{S_a,i}) \\
\hline
1 & 0.0545 & -2 & 0.0027 & [0.24g, 0.42g, 0.18g] \\
2 & 0.2442 & -1 & 0.0122 & [0.27g, 0.46g, 0.19g] \\
3 & 0.4026 & 0  & 0.0201 & [0.30g, 0.50g, 0.20g] \\
4 & 0.2442 & 1  & 0.0122 & [0.33g, 0.54g, 0.21g] \\
5 & 0.0545 & 2  & 0.0027 & [0.36g, 0.58g, 0.22g] \\
\hline
\end{array}$
\end{center}

\begin{figure}
\includegraphics[width=1\textwidth]{diags/fig-hattn-spawning}
\caption{Samples drawn from a PDF using the sampling by spawning
technique with $n_{smples}=5$ and $n_\sigma=2.5$. The width between
the vertical bars is $\Delta$. Note that there is one sample for
each of the five (spawned) copies of the original event.}
\label{fig:hattn-spawnsamp}
\end{figure}

It is important to note the following about spawning:
\begin{enumerate}
\item Sub-sampling the PDF provides a smoother (and repeatable)
estimate of the $S_a$ than random selection
(\sref{attn:uncert-randomchoice}). This equates to a high level of
spatial correlation. \item The range of possible $S_a$ values is
bounded by the $n_\sigma$. \item Estimates of all $S_a$ are weighted
against an event activity $r_\nu$ that accounts for the likelihood
of a particular attenuation being observed. \item The nature of
spawning means that the synthetic event catalogue is copied a number
of times and hence requires more computation time and memory.
\end{enumerate}

\sref{source:spawning} stated that event spawning is conducted when
\typepar{src}{\_eps}{\_switch} is 1 or $2$. When
\typepar{src}{\_eps}{\_switch}$=2$ the spawned values are treated
separately throughout the hazard or risk assessment. When
\typepar{src}{\_eps}{\_switch}$=1$ however, the spawned values are
aggregated again before the hazard or risk assessment is made. This
idea is illustrated in \fref{fig:attn-treecollapse}.

\begin{figure}
 \setlength{\unitlength}{1mm}
(a)  % This is the hazard tree for multi attenuation with collapse

\hspace{4em} \begin{centering}
\begin{picture}(70,30)
% middle branch
\put(0,12){$E_{ij}$} \put(7,13){\vector(1,0){15}}
\put(24,12){$Sa_{ij}^{(2)}$} \put(33,13){\vector(1,0){15}}
\put(50,12){$\widetilde{Sa_{ij}^{(2)}}$} \put(12,14){$w_2$}
% upper branch
\put(7,14){\vector(3,2){15}} \put(24,23){$Sa_{ij}^{(1)}$}
\put(33,24){\vector(1,0){15}}
\put(50,23){$\widetilde{Sa_{ij}^{(1)}}$}
\put(11,20){\rotatebox{30}{$w_1$}}
% lower branch
\put(7,12){\vector(3,-2){15}} \put(24,0){$Sa_{ij}^{(3)}$}
\put(33,1){\vector(1,0){15}} \put(50,0){$\widetilde{Sa_{ij}^{(3)}}$}
\put(11,5){\rotatebox{-30}{$w_3$}}
% concatenation at end
\put(61,5){\scalebox{1.2}[6.5]{\}}} \put(65,12){$ {\displaystyle
\widetilde{Sa_{ij}} = \sum_{k=1}^{3}w_k\widetilde{Sa_k} } $}
\end{picture}
\end{centering}

\vspace{0.8em}
(b) % This is the hazard tree for multi attenuation with NO collapse

\hspace{4em} \begin{centering}
\begin{picture}(70,30)
% middle branch
\put(0,12){$E_{ij}$} \put(7,13){\vector(1,0){15}}
\put(24,12){$Sa_{ij}^{(2)}$} \put(33,13){\vector(1,0){15}}
\put(50,12){$\widetilde{Sa_{ij}^{(2)}}$} \put(12,14){$w_2$}
% upper branch
\put(7,14){\vector(3,2){15}} \put(24,23){$Sa_{ij}^{(1)}$}
\put(33,24){\vector(1,0){15}}
\put(50,23){$\widetilde{Sa_{ij}^{(1)}}$}
\put(11,20){\rotatebox{30}{$w_1$}}
% lower branch
\put(7,12){\vector(3,-2){15}} \put(24,0){$Sa_{ij}^{(3)}$}
\put(33,1){\vector(1,0){15}} \put(50,0){$\widetilde{Sa_{ij}^{(3)}}$}
\put(11,5){\rotatebox{-30}{$w_3$}}
\end{picture}
\end{centering}

\vspace{0.8em}
(c) % This is the risk tree for multi attenuation with collapse

\hspace{4em} \begin{centering}
\begin{picture}(70,30)
% middle branch
\put(0,12){$E_{ij}$} \put(7,13){\vector(1,0){15}}
\put(24,12){$Sa_{ij}^{(2)}$} \put(33,13){\vector(1,0){15}}
\put(50,12){$\widetilde{Sa_{ij}^{(2)}}$} \put(12,14){$w_2$}
\put(60,13){\vector(1,0){15}} \put(77,12){$L_{ij}^{(2)}$}
% upper branch
\put(7,14){\vector(3,2){15}} \put(24,23){$Sa_{ij}^{(1)}$}
\put(33,24){\vector(1,0){15}}
\put(50,23){$\widetilde{Sa_{ij}^{(1)}}$}
\put(11,20){\rotatebox{30}{$w_1$}} \put(60,24){\vector(1,0){15}}
\put(77,23){$L_{ij}^{(1)}$}
% lower branch
\put(7,12){\vector(3,-2){15}} \put(24,0){$Sa_{ij}^{(3)}$}
\put(33,1){\vector(1,0){15}} \put(50,0){$\widetilde{Sa_{ij}^{(3)}}$}
\put(11,5){\rotatebox{-30}{$w_3$}} \put(60,1){\vector(1,0){15}}
\put(77,0){$L_{ij}^{(3)}$}
% concatenation at end
\put(86,5){\scalebox{1.2}[6.5]{\}}} \put(90,12){$ {\displaystyle
 L_{ij} = \sum_{k=1}^{3}w_kL_k } $}
\end{picture}
\end{centering}

\vspace{0.8em}
(d)  % This is the risk tree for multi attenuation with NO collapse


\hspace{4em}\begin{picture}(70,30)
\begin{centering}
% middle branch
\put(0,12){$E_{ij}$} \put(7,13){\vector(1,0){15}}
\put(24,12){$Sa_{ij}^{(2)}$} \put(33,13){\vector(1,0){15}}
\put(50,12){$\widetilde{Sa_{ij}^{(2)}}$} \put(12,14){$w_2$}
\put(60,13){\vector(1,0){15}} \put(77,12){$L_{ij}^{(2)}$}
% upper branch
\put(7,14){\vector(3,2){15}} \put(24,23){$Sa_{ij}^{(1)}$}
\put(33,24){\vector(1,0){15}}
\put(50,23){$\widetilde{Sa_{ij}^{(1)}}$}
\put(11,20){\rotatebox{30}{$w_1$}} \put(60,24){\vector(1,0){15}}
\put(77,23){$L_{ij}^{(1)}$}
% lower branch
\put(7,12){\vector(3,-2){15}} \put(24,0){$Sa_{ij}^{(3)}$}
\put(33,1){\vector(1,0){15}} \put(50,0){$\widetilde{Sa_{ij}^{(3)}}$}
\put(11,5){\rotatebox{-30}{$w_3$}} \put(60,1){\vector(1,0){15}}
\put(77,0){$L_{ij}^{(3)}$}
\end{centering}
\end{picture}


\caption{The application of spawning to a single synthetic
earthquake $E_{ij}$;(a) the collapse of spawned samples for hazard
(\typeparcaption{src}{\_eps}{\_switch}$=1$); (b) hazard spawning
without collapse (\typeparcaption{src}{\_eps}{\_switch}$=2$); (c)
the collapse of spawned samples for risk
(\typeparcaption{src}{\_eps}{\_switch}$=1$); and (d) risk spawning
without collapse (\typeparcaption{src}{\_eps}{\_switch}$=2$). The
illustrated procedure is repeated for $N_s$ events in the event
catalogue and the techniques of \cref{ch:risk} used to assess the
hazard or risk.} \label{fig:attn-treecollapse}
\end{figure}

\subsection{Incorporating
epistemic uncertainty} \label{sec:attn-multi-attnmodels}

The use of attenuation models in the EQRM is controlled by the
\typeself{set}{da}{ta} parameter \typepar{atten}{uation}{\_flag}.
Recall from \sref{sec:application-setdata} that
\typepar{atten}{uation}{\_flag} is a two row matrix with one column
for each attenuation model to be used. The format of
\typepar{atten}{uation}{\_flag} is
\begin{center}
\begin{math}
%\label{fig:attn-sa-matrix}
 \left[ \begin{array}{ccccc}
P_1 & P_2 &  \hdots & P_n \\
w_{a,1} & w_{a,2} &  \hdots & w_{a,n} \\
\end{array} \right],
\end{math}
\end{center}
where the integers $\{P_i\}_{i=1}^n$ are pointers to the attenuation
model (see \tref{tab:attn-flags}) and the real numbers
$\{w_{a,i}\}_{i=1}^n$ are weights for the respective attenuation
models. Note that the weights $w_i$ must either be all positive or
all negative and
\begin{equation}
\left|\sum_{i=1}^{n}w_{a,i}\right| = 1.
\end{equation}
\begin{table}
\caption{Pointers to attenuation models for use in the first row of
\typeparcaption{atten}{uation}{\_flag}.} \vspace{0.8em}
\label{tab:attn-flags}
\begin{center}
\begin{tabular}{|c|c|c|}
\hline \textbf{Motion} & \textbf{pointer} & \textbf{model} \\
\hline
 & 0 & \cite{dr_Gaull90a} PGA with $S_a$ extension\\
 & 1 & \cite{dr_Toro97a} \\
$S_a$ & 2 & \cite{dr_Atkinson97a} \\
 & 3 & \cite{dr_Sadigh97a} \\
 & 4 & \cite{dr_Somerville01a} \\
\hline
 $\Imm$ & 100 & \cite{dr_Gaull90a} \\
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}
\caption{Attenuation region (\typeparcaption{attn}{\_reg}{ion})
options for each of the attenuation models.} \vspace{0.8em}
\label{tab:attn-regions}
\begin{center}
\begin{tabular}{|c|c|l|}
\hline \textbf{attenuation} & \textbf{attenuation} & \textbf{\texttt{attn\_region}} \\
\textbf{pointer} & \textbf{model} & \textbf{} \\
\hline
0   &  & 1 $\Rightarrow$ Western Australia  \\
or & \cite{dr_Gaull90a} & 2 $\Rightarrow$ Northeastern Australia\\
100 & & 3 $\Rightarrow$ Indonesia\\
 & & 4 $\Rightarrow$ Southeastern Australia\\
\hline
1 & \cite{dr_Toro97a} & 1 $\Rightarrow$ Mid-Continent $M_o$ \\
\hline
2 & \cite{dr_Atkinson97a} & 1 $\Rightarrow$ No published options \\
\hline
3 & \cite{dr_Sadigh97a} & 1 $\Rightarrow$ No published options \\
\hline
 &  & 1 $\Rightarrow$ Nonrift - Horizontal\\
4 & \cite{dr_Somerville01a} & 2 $\Rightarrow$ Rift -- Horizontal\\
 & & 3 $\Rightarrow$ Nonrift -- Vertical\\
 & & 4 $\Rightarrow$ Rift --Vertical\\
\hline
\end{tabular}
\end{center}
\end{table}

The mechanism for using more than one attenuation model is similar
to the mechanism used for spawning (see
\sref{attn:uncert-pdfchoice}). That is, the event catalogue is
copied $n$ times (once for each attenuation model) and the
appropriate attenuation model applied to its respective copy. The
values of ground motion (loss for risk) can then be treated
independently for the hazard/risk calculation (if
$\sum_{i=1}^{n}w_{a,i} = -1$) or aggregated before the hazard/risk
assessment is undertaken (if $\sum_{i=1}^{n}w_{a,i} = 1$). This
notion of logic tree collapse is described by
\fref{fig:attn-treecollapse}.

\clearpage
\newpage
\section{Key functions, flags and parameters}

\begin{tabular}{llp{0.55\textwidth}}
\hline
\textbf{Name} & \textbf{Type} & \textbf{Description} \\
\hline
\keyrowsep \typefunc{do}{\_ana}{lysis} & Function & The main driving function for modelling earthquake hazard or risk. \\
\keyrowsep \typefunc{do}{\_all}{dist} & Function & Computes the Joyner-Boore and Rupture Distance from a site to every event. \\
\keyrowsep \typefunc{prep}{\_at}{tn} & Function & Prepares the attenuation coefficients by interpolating them to periods of interest $T_o$. \\
\keyrowsep \typefunc{m}{w2}{ml} & Function & Converts moment magnitude $r_m$ to local magnitude $r_{m_l}$. \\
\keyrowsep \typefunc{do}{\_atten}{uation} & Function & Controls the selection of attenuation models for evaluation and assembles outputs. \\
\keyrowsep \splitrowfunc{attn\_prepcoeff}{\_toro} & Function & Preparation of attenuation coefficients for \cite{dr_Toro97a}. \\
\keyrowsep \splitrowfunc{attn\_allpervec}{\_toro} & Function & Computes \cite{dr_Toro97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_preptoro}{\_aleatory1} & Function & Computes $\sigma_{a,r_m}$ for use with \cite{dr_Toro97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_preptoro}{\_aleatory2} & Function & Computes $\sigma_{a,\Rjb}$ for use with \cite{dr_Toro97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_preptoro}{\_epistemic} & Function & Computes $\sigma_{e,r_m}$ for use with \cite{dr_Toro97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_allpervec}{\_gaull} & Function & Computes \cite{dr_Gaull90a} attenuation. \\
\keyrowsep \typefunc{aus}{\_pesh}{new} & Function & Extends $PGA$ to standard $\mu_{log(S_a)}$. \\
\keyrowsep \splitrowfunc{attn\_prepcoeff}{\_atkboore} & Function & Preparation of attenuation coefficients for \cite{dr_Atkinson97a}.\\
\keyrowsep \splitrowfunc{attn\_allpervec}{\_atkboore} & Function & Computes \cite{dr_Atkinson97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_prep\_atkboore}{\_aleatory} & Function & Computes $\sigma_a$ for use with \cite{dr_Atkinson97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_prepcoeff}{\_sadigh} & Function & Preparation of attenuation coefficients for \cite{dr_Sadigh97a}. \\
\keyrowsep \splitrowfunc{attn\_allpervec}{\_sadigh} & Function & Computes \cite{dr_Sadigh97a} attenuation. \\
\end{tabular}

\begin{tabular}{llp{0.55\textwidth}}
\keyrowsep \splitrowfunc{attn\_prep\_sadigh}{\_uncertainty} & Function & Prepares uncertainty coefficients for \cite{dr_Sadigh97a} attenuation. \\
\keyrowsep \typefunc{pga}{\_cut}{off} & Function & Re-scales the $S_a$ such that PGA $\leq$ \typepar{pga}{cut}{off}. \\
\keyrowsep \splitrowfunc{attn\_toro\_mid}{continent\_momag} & Par File & Stores attenuation coefficients for \cite{dr_Toro97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_atkboore}{\_momag} & Par File & Stores attenuation coefficients for \cite{dr_Atkinson97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_sadigh\_coeff}{\_momag\_less65} & Par File & Stores attenuation coefficients for \cite{dr_Sadigh97a} attenuation. \\
\keyrowsep \splitrowfunc{attn\_sadigh\_coeff}{\_momag\_great65} & Par File & Stores attenuation coefficients for \cite{dr_Sadigh97a} attenuation. \\
\keyrowsep \typepar{per}{io}{ds} & Par & Periods at which to compute $S_a$. \\
\keyrowsep \typepar{atten}{uation}{\_flag} & Par & Defines the attenuation models to be used as well as their respective weights. \\
\keyrowsep \typepar{attn}{\_reg}{ion} & Par & Flag to assign different attenuation regions for \cite{dr_Gaull90a} attenuation.\\
\keyrowsep \typepar{var}{\_attn}{\_flag} & Par & Variability in evaluation of the attenuation model. \\
\keyrowsep \typepar{var}{\_attn}{\_method} & Par & Selects the technique for incorporating variability. \\
  \hline
\end{tabular}







%%% Local Variables:
%%% mode: latex
%%% TeX-master: "eqrmtech"
%%% End:
